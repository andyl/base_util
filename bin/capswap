#!/usr/bin/env ruby

script = <<-EOF
! Swap caps lock and escape
remove Lock = Caps_Lock
keysym Escape = Caps_Lock
keysym Caps_Lock = Escape
add Lock = Caps_Lock
EOF

TMP_SCRIPT = '/tmp/swapkey'

File.open(TMP_SCRIPT, 'w') {|f| f.puts script}
system "xmodmap #{TMP_SCRIPT}"

