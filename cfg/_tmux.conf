# Options keys
unbind C-b                # disable default option key
set-option -g prefix C-a  # use same option key as Screen
set-option -g prefix `    # backtick alternative

# send prefix to other applications (ie Vim)
# send ` or C-a to Vim by pressing it *twice*
bind ` send-prefix
bind C-a send-prefix

# unbind C-up and C-down to eliminate vim conflict
unbind C-Up
unbind C-Down
unbind C-Left
unbind C-Right
set-window-option -g xterm-keys on

# start window and pane numbering at '1'
set -g base-index 1
set -g pane-base-index 1

# kill windows and sessions
bind-key x kill-window      
bind-key X kill-session

# merge another window into current window
bind-key @ command-prompt -p "create pane from:"  "join-pane -s ':%%'"

# Reload .tmux.conf
unbind r
bind r source-file ~/.tmux.conf\; display "Reloaded conf."

# Commands for creating split window panes
unbind %                  # disable default key 
bind v split-window -h    # vertical split
bind s split-window -v    # horizontal split

# Do not notify upon activity in hidden windows
setw -g monitor-activity off
setw -g visual-activity off

# Enable mouse
setw -g mode-mouse on
setw -g mouse-resize-pane on
setw -g mouse-select-pane on
setw -g mouse-select-window on

# Toggle mouse on with `M
unbind M
bind M \
  set -g mode-mouse on \;\
  set -g mouse-resize-pane on \;\
  set -g mouse-select-pane on \;\
  set -g mouse-select-window on \;\
  display 'Mouse: ON'

# Toggle mouse off with `m
unbind m
bind m \
  set -g mode-mouse off \;\
  set -g mouse-resize-pane off \;\
  set -g mouse-select-pane off \;\
  set -g mouse-select-window off \;\
  display 'Mouse: OFF'

# xterm-title
set -g set-titles on
set -g set-titles-string '<#S:#I #W> #H'

# status line
# set -g status-right "#T"

set -g automatic-rename on

# Use Vim-style command keys
set-window-option -g mode-keys vi
set-option -g status-keys vi

# Vim-style pane navigation
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

# Swap panes
unbind o
bind o rotate-window -D

# Pane resizing
bind -n S-Up    resize-pane -U 2
bind -n S-Down  resize-pane -D 2
bind -n S-Right resize-pane -R 2
bind -n S-Left  resize-pane -L 2

# Full color for Vim.
set -g default-terminal "screen-256color"

# Fix slow escape issue
# http://unix.stackexchange.com/questions/23138/esc-key-causes-a-small-delay-in-terminal-due-to-its-alt-behavior
set -sg escape-time 0

